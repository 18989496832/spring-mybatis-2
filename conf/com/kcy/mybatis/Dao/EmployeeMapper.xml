<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kcy.mybatis.Dao.EmployeeMapper">
<!-- 
namespace：命名空间,使用接口全路径：com.kcy.mybatis.Dao.EmployeeMapper
id:selectEmployee唯一标识，Id使用接口的方法名getEmployeeById
${}占位符
#{}动态sql值
 -->
 
    <select id="getEmployeeByNameLikeRetMap" resultType="com.kcy.mybatis.bean.Employee">
		select id,name,age,email as e_mail from tbl_employee where name like #{param}
	</select>
 	<select id="getEmployeeByIdRetMap" resultType="map">
		select id,name,age,email as e_mail from tbl_employee where id = #{id}
	</select>
    <select id="getEmployeeByNameLike" resultType="com.kcy.mybatis.bean.Employee">
		select id,name,age,email as e_mail from tbl_employee where name like #{param}
	</select>
	<select id="getEmployeeById" resultType="com.kcy.mybatis.bean.Employee">
		select id,name,age,email as e_mail from tbl_employee where id = #{id}
	</select>
	<select id="getEmployeeByMap" resultType="com.kcy.mybatis.bean.Employee"
    	parameterType="java.util.Map">
		select id,name,age,email as e_mail from tbl_employee where id=#{id} and name=#{name}
	</select>
	<insert id="addEmp" parameterType="com.kcy.mybatis.bean.Employee" 
		useGeneratedKeys="true" keyProperty="id">
		insert into tbl_employee(name,age,email) values(#{name},#{age},#{e_mail})
	</insert>
	
	<update id="updateEmp">
		update tbl_employee 
			set name=#{name},age=#{age},email=#{e_mail} 
			where id=#{id}
	</update>
	<delete id="deleteEmp">
		delete from tbl_employee where id = #{id}
	</delete>
</mapper>